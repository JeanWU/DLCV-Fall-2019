# TODO: download models
wget --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&id=1uyRinHsHLZJKIUL-jKJXWCV0fwocrUeo' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&id=1uyRinHsHLZJKIUL-jKJXWCV0fwocrUeo" -O s2m_adda_feature_extractor.pth.tar && rm -rf /tmp/cookies.txt
wget --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&id=1CiuN9shZOt77TV6w-Qb6fEBey8d6tQvn' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&id=1CiuN9shZOt77TV6w-Qb6fEBey8d6tQvn" -O s2m_adda_label_predictor.pth.tar && rm -rf /tmp/cookies.txt
wget --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&id=1_5FTzQzy2iBruBtsI2SQY2ESPykLnuXg' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&id=1_5FTzQzy2iBruBtsI2SQY2ESPykLnuXg" -O m2s_adda_feature_extractor.pth.tar && rm -rf /tmp/cookies.txt
wget --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&id=12orbqGQfUtqKyycECh15s4GfJnpPjaba' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')&id=12orbqGQfUtqKyycECh15s4GfJnpPjaba" -O m2s_adda_label_predictor.pth.tar && rm -rf /tmp/cookies.txt

python3 src/hw3_p4.py --data_dir $1 --target_domain $2 --save_folder $3 --image_size 28